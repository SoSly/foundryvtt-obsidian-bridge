.obsidian-bridge {
    &.import-dialog {
        .select-folder-button {
            white-space: nowrap;
            flex-shrink: 0;
        }

        input[type="file"] {
            display: none;
        }

        input[name="dataPath"] {
            flex-grow: 1;
        }

        .file-tree-group {
            > label {
                align-self: flex-start;
            }
        }

        .file-tree {
            border: 1px solid var(--color-border-dark);
            padding: 0.5rem;
            max-height: 300px;
            overflow-y: auto;
        }

        .tree-item {
            .tree-header {
                display: flex;
                align-items: center;
                gap: 0.25rem;
            }

            .tree-toggle {
                background: none;
                border: none;
                padding: 0.25rem;
                cursor: pointer;
                color: var(--color-text-dark-primary);
                width: 1.25rem;
                flex-shrink: 0;

                &:hover {
                    text-shadow: 0 0 8px var(--color-shadow-primary);
                }
            }

            label {
                display: flex;
                align-items: center;
                gap: 0.25rem;
                cursor: pointer;
                flex-grow: 1;
            }

            input[type="checkbox"] {
                position: relative;

                &:indeterminate::after {
                    content: "";
                    position: absolute;
                    top: 50%;
                    left: 45%;
                    transform: translate(-50%, -50%);
                    width: 60%;
                    height: 2px;
                    background: var(--color-text-dark-primary);
                    pointer-events: none;
                }
            }

            .tree-children {
                position: relative;
                padding-left: calc(1.5rem + 3px);

                .tree-char {
                    font-family: monospace;
                    color: var(--color-text-dark-secondary);
                    user-select: none;
                    margin-left: calc(-1.5rem);
                    margin-right: calc(0.25rem);
                }
            }
        }
    }
}

:is(.theme-dark) {
    .obsidian-bridge.import-dialog {
        .tree-item .tree-toggle {
            color: var(--color-text-light-heading);
        }
    }
}
